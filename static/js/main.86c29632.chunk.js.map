{"version":3,"sources":["components/Modal/Modal.module.css","components/Error/Error.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/App/App.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","services/api.js","components/Modal/Modal.js","components/Loader/Loader.js","components/Error/Error.js","components/App/App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","value","handleOnChange","e","setState","target","handleOnSubmit","preventDefault","onSubmit","props","this","className","Styles","SearchForm","type","onChange","autoComplete","placeholder","Component","ImageGalleryItem","data","onClick","id","role","src","imageURL","alt","tags","ImageGallery","openModal","length","map","item","key","Button","get","text","page","axios","Modal","overlayRef","createRef","handleKeyPressESC","keyCode","closeModal","handleBackdropClick","current","window","addEventListener","removeEventListener","children","Overlay","ref","App","Style","spiner","color","height","width","Error","error","error__text","images","searchValue","isLoading","isModal","imageId","getDataApi","scrollHeight","document","documentElement","API","then","prevState","hits","catch","finally","scrollTo","top","behavior","handleSearchOnSubmit","handleClickOnMore","handleClickIsOpenModal","handleClickIsCloseModal","prevProps","imgModal","find","largeImageURL","massive","webformatURL","mapper","ReactDOM","render","PNotifyBrightTheme","getElementById"],"mappings":"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","file":"static/js/main.86c29632.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3_U5a\",\"Modal\":\"Modal_Modal__vFPfR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Error_error__RYPck\",\"error__text\":\"Error_error__text__1c55y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__5SNwr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1Myt5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spiner\":\"Loader_spiner__jm1M5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__37boJ\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Styles from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    value: '',\n  };\n\n  handleOnChange = e => {\n    this.setState({ value: e.target.value });\n  };\n\n  handleOnSubmit = e => {\n    e.preventDefault();\n    const { onSubmit } = this.props;\n    const { value } = this.state;\n    onSubmit(value);\n    this.setState({ value: '' });\n  };\n\n  render() {\n    const { value } = this.state;\n    return (\n      <header className={Styles.Searchbar}>\n        <form onSubmit={this.handleOnSubmit} className={Styles.SearchForm}>\n          <button type=\"submit\" className={Styles['SearchForm-button']}>\n            <span className={Styles['SearchForm-button-label']}>Search</span>\n          </button>\n\n          <input\n            className={Styles['SearchForm-input']}\n            onChange={this.handleOnChange}\n            value={value}\n            type=\"text\"\n            autoComplete=\"off\"\n            // autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ data, onClick }) => {\n  // console.dir(data);\n  return (\n    <li\n      onClick={() => onClick(data.id)}\n      role=\"presentation\"\n      className={Styles.ImageGalleryItem}\n    >\n      <img\n        src={data.imageURL}\n        alt={data.tags}\n        className={Styles['ImageGalleryItem-image']}\n      />\n    </li>\n  );\n};\nImageGalleryItem.propTypes = {\n  data: PropTypes.shape({\n    imageURL: PropTypes.string,\n    largeImageURL: PropTypes.string,\n    tags: PropTypes.string,\n    id: PropTypes.number,\n  }).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Styles from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nconst ImageGallery = ({ data, openModal }) => {\n  return (\n    <>\n      {data.length > 0 && (\n        <ul className={Styles.ImageGallery}>\n          {data.map(item => (\n            <ImageGalleryItem data={item} onClick={openModal} key={item.id} />\n          ))}\n        </ul>\n      )}\n    </>\n  );\n};\nImageGallery.propTypes = {\n  data: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n    }).isRequired,\n  ).isRequired,\n  openModal: PropTypes.func.isRequired,\n};\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Styles from './Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button type=\"button\" onClick={onClick} className={Styles.Button}>\n      <span>loade more</span>\n    </button>\n  );\n};\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\nexport default Button;\n","import axios from 'axios';\n\nconst API_BASIC_URL = 'https://pixabay.com/api/';\nconst API_KEY = '14715386-62189850d4fd3a7a1b8d3fb7e';\nconst TYPE = 'photo';\nconst ORIENTATION = 'horizontal';\nconst PERPAGE = 12;\n\nexport const get = (text, page) => {\n  return axios.get(\n    `${API_BASIC_URL}?key=${API_KEY}&q=${text}&image_type=${TYPE}&page=${page}&orientation=${ORIENTATION}&per_page=${PERPAGE}`,\n  );\n};\nexport const getNull = () => null;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Styles from './Modal.module.css';\n\nexport default class Modal extends Component {\n  overlayRef = createRef();\n\n  static propTypes = {\n    children: PropTypes.node.isRequired,\n    closeModal: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPressESC);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPressESC);\n  }\n\n  handleKeyPressESC = e => {\n    if (e.keyCode === 27) {\n      this.props.closeModal();\n    }\n  };\n\n  handleBackdropClick = e => {\n    const { current } = this.overlayRef;\n    if (e.target === current) {\n      this.props.closeModal();\n    }\n  };\n\n  render() {\n    const { children } = this.props;\n    return (\n      <>\n        <div\n          className={Styles.Overlay}\n          ref={this.overlayRef}\n          onClick={this.handleBackdropClick}\n          role=\"presentation\"\n        >\n          <div className={Styles.Modal}>{children}</div>\n        </div>\n      </>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\nimport Style from './Loader.module.css';\n\nexport default class App extends Component {\n  state = {};\n\n  render() {\n    return (\n      <div className={Style.spiner}>\n        <Loader\n          type=\"Puff\"\n          color=\"#3f51b5\"\n          height={100}\n          width={100}\n          // timeout={3000} // 3 secs\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Styles from './Error.module.css';\n\nconst Error = ({ children }) => {\n  return (\n    <div className={Styles.error}>\n      <span className={Styles.error__text}>{children}</span>\n    </div>\n  );\n};\nError.propTypes = {\n  children: PropTypes.node.isRequired,\n};\nexport default Error;\n","import React, { Component } from 'react';\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\nimport * as API from '../../services/api';\nimport Modal from '../Modal/Modal';\nimport Loader from '../Loader/Loader';\nimport Error from '../Error/Error';\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    searchValue: '',\n    page: 1,\n    isLoading: false,\n    isModal: false,\n    imageId: null,\n    error: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchValue, page } = this.state;\n    if (prevState.searchValue !== searchValue || prevState.page !== page) {\n      this.getDataApi(searchValue, page);\n    }\n  }\n\n  getDataApi = (text, page) => {\n    let scrollHeight = 0;\n    if (page === 1) {\n      scrollHeight = 0;\n    } else {\n      scrollHeight = document.documentElement.scrollHeight - 144;\n    }\n    this.setState({ isLoading: true });\n    API.get(text, page)\n      .then(({ data }) => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...data.hits],\n        }));\n      })\n      .catch(error => {\n        throw new Error(error);\n      })\n      .finally(() => {\n        const { images } = this.state;\n        if (images.length < 1) {\n          this.setState({ error: true });\n        } else {\n          this.setState({ error: false });\n        }\n        this.setState({ isLoading: false });\n        window.scrollTo({\n          top: scrollHeight,\n          behavior: 'smooth',\n        });\n      });\n  };\n\n  handleSearchOnSubmit = text => {\n    this.setState({ searchValue: text, images: [], page: 1 });\n  };\n\n  handleClickOnMore = () => {\n    const { page } = this.state;\n    this.setState({\n      page: page + 1,\n    });\n  };\n\n  handleClickIsOpenModal = id => {\n    this.setState({\n      isModal: true,\n      imageId: id,\n    });\n  };\n\n  handleClickIsCloseModal = e => {\n    this.setState({\n      isModal: false,\n    });\n  };\n\n  render() {\n    const { images, isLoading, isModal, imageId, error } = this.state;\n    const mapper = massive => {\n      return massive.map(e => ({\n        imageURL: e.webformatURL,\n        ...e,\n      }));\n    };\n    const fined = (massive, id) => {\n      return massive.find(e => e.id === id);\n    };\n    const imgModal = fined(images, imageId);\n    return (\n      <>\n        {isModal && (\n          <Modal closeModal={this.handleClickIsCloseModal}>\n            <img src={imgModal.largeImageURL} alt={imgModal.tags} />\n          </Modal>\n        )}\n        <Searchbar onSubmit={this.handleSearchOnSubmit} />\n        <ImageGallery\n          data={mapper(images)}\n          openModal={this.handleClickIsOpenModal}\n        />\n        {error && <Error>Image not found!</Error>}\n        {isLoading && <Loader />}\n        {images.length > 0 && <Button onClick={this.handleClickOnMore} />}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PNotifyBrightTheme from 'pnotify/dist/PNotifyBrightTheme.css';\nimport App from './components/App/App';\nimport Style from './components/App/App.module.css';\n\nReactDOM.render(\n  <App className={(PNotifyBrightTheme, Style)} />,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__ctGQT\",\"SearchForm\":\"Searchbar_SearchForm__6kYLQ\",\"SearchForm-button\":\"Searchbar_SearchForm-button__3rsZv\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__y23dh\",\"SearchForm-input\":\"Searchbar_SearchForm-input__coOoQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3sx9O\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__2gx_L\"};"],"sourceRoot":""}